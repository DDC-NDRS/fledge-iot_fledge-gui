<div class="card">
  <header class="card-header">
    <p id="scheduled-process" class="card-header-title">
      Schedules &nbsp;
      <button (click)="getSchedules()" class="button is-small">
        <i class="fa fa-refresh" aria-hidden="true"></i>
      </button>
    </p>
  </header>
  <div class="card-content">
    <table class="table scroll is-responsive">
      <thead id="head">
        <tr>
          <th>Name</th>
          <th>Type</th>
          <!-- <th>Day</th>
          <th>Time</th>-->
          <th>Interval</th>
          <!-- <th>Exclusive</th>  -->
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tr *ngFor="let schedule of scheduleData" [ngClass]="{'fade': !schedule.enabled}" id={{schedule.name}}>
        <td>
          <small> {{schedule.name}} </small>
        </td>
        <td>
          <span class="tag is-rounded"> {{schedule.type}}</span>
        </td>
        <!-- <td>
          <small> {{getISODay(schedule.day)}} </small>
        </td>
        <td>
          <small> {{schedule.time}}</small>
        </td>-->
        <!-- if interval is 00:00:00 show empty string -->
        <!-- FIXME -->
        <td>
          <small> {{!schedule.repeat.trim() == '00:00:00' ? schedule.repeat.trim() : '' }}</small>
        </td> 
        <!-- <td>
          <small> {{schedule.exclusive}}</small>
        </td> -->
        <td>
          <a (click)="editSchedule(schedule.id)" class="button is-text ed-btn" name={{schedule.name}}>
            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
          </a>
        </td>
        
        <!-- TODO: Only show edit and move this switch to edit modal-->
        <td>
            <div class="field">
                <input id="x" *ngIf='schedule.enabled' type="checkbox" name="switchRoundedOutlinedDefault" class="switch is-rounded is-outlined is-success" checked="checked">
                <input id="x" *ngIf='!schedule.enabled' type="checkbox" name="switchRoundedOutlinedDefault" class="switch is-rounded is-outlined">
                <label for="x"></label>
              </div>
          <!-- <button name={{schedule.name}} *ngIf='schedule.enabled' class="button is-text" (click)="openModal(schedule.id, schedule.name, 'Are you sure, You want to disable the schedule', 'disable')">disable</button> -->
          <!-- <button name={{schedule.name}} *ngIf='!schedule.enabled' class="button is-text" (click)="openModal(schedule.id, schedule.name, 'Are you sure, You want to enable the schedule', 'enable')">enable</button> -->
        </td>
      </tr>
    </table>
  </div>
</div>
<app-alert-dialog (enable)='enableSchedule($event)' (disable)='disableSchedule($event)' (delete)='deleteSchedule($event)'
  [childData]='childData'></app-alert-dialog>
<app-update-schedule (notify)='onNotify()' (process)='setScheduleProcess($event)' (type)='setScheduleType($event)' [childData]='updateScheduleData'></app-update-schedule>