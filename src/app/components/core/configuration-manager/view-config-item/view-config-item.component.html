<div class="columns is-multiline" *ngFor="let categoryData of categoryConfigurationData?.value">
  <div class="column is-narrow is-half" *ngFor="let configItem of (categoryData | keys)">
    <div class="is-clearfix"></div>
    <div class="box">
      <p class="subtitle is-6">
        {{configItem.value.description}}
      </p>
      <div class="content">
        <div class="field">
          <div class="control">
            <p hidden="true"> {{configItem.value.type}} </p>
            <div class="control is-fullwidth">
              <div>
                <div *ngIf="getConfigAttributeType(configItem.value.type) == 'BOOLEAN'" class="select is-fullwidth is-small">
                  <select id="select-{{categoryConfigurationData.key.trim() + '-' + configItem.key.trim() | lowercase}}" (change)="onTextChange('select-' + categoryConfigurationData.key.trim() + '-' + configItem.key.trim(), configItem.value.value)"
                    name='configItem.value.value' [(ngModel)]="configItem.value.value">
                    <option [value]="true">true</option>
                    <option [value]="false">false</option>
                  </select>
                </div>
                <input *ngIf="getConfigAttributeType(configItem.value.type) === 'TEXT'" id="{{categoryConfigurationData.key.trim() + '-' + configItem.key.trim() | lowercase}}"
                  class="input is-small" type="text" [value]='configItem?.value?.value != undefined ? configItem?.value?.value : ""'
                  (input)="onTextChange(categoryConfigurationData.key.trim() + '-' + configItem.key.trim(), configItem.value.value)"
                  [textContent]='configItem?.value?.value != undefined ? configItem?.value?.value : ""' />
                <input *ngIf="getConfigAttributeType(configItem.value.type) === 'NUMBER'" id="{{categoryConfigurationData.key.trim() + '-' + configItem.key.trim() | lowercase}}"
                  (input)="onTextChange(categoryConfigurationData.key.trim() + '-' + configItem.key.trim(), configItem.value.value)"
                  type="number" [value]='configItem?.value?.value != undefined ? configItem?.value?.value : ""' class="input is-small"
                  [textContent]='configItem?.value?.value != undefined ? configItem?.value?.value : ""' appNumberOnly />

                <div class="field">
                  <textarea rows="3" *ngIf="getConfigAttributeType(configItem.value.type) === 'LONG_TEXT'" class="textarea is-small" [value]='configItem?.value?.value != undefined ? configItem?.value?.value : ""'
                    id="{{categoryConfigurationData.key.trim() + '-' + configItem.key.trim() | lowercase}}" (input)="onTextChange(categoryConfigurationData.key.trim() + '-' + configItem.key.trim(), configItem.value.value)"
                    type="text" [textContent]='configItem?.value?.value != undefined ? configItem?.value?.value : ""'>
                    {{configItem?.value?.value}}
                    </textarea>
                  <div *ngIf="!isValidJson && (selectedCategoryId === (categoryConfigurationData.key.trim() + '-' + configItem.key.trim() | lowercase)) && (configItem.value.type | uppercase) == 'JSON'" class="help is-danger level-left">Invalid JSON</div>
                  <div *ngIf="isEmptyValue && (selectedCategoryId === (categoryConfigurationData.key.trim() + '-' + configItem.key.trim() | lowercase))" class="help is-danger level-left">Field can't left blank</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="field is-grouped">
          <div class="control">
            <button id="btn-save-{{categoryConfigurationData.key.trim() + '-' + configItem.key.trim() | lowercase}}" class="button is-small is-link"
              (click)="saveConfigValue(categoryConfigurationData.key.trim(), configItem?.key, configItem?.value?.type)">Save</button>
          </div>
          <div class="control">
            <button id="btn-cancel-{{categoryConfigurationData.key.trim() + '-' + configItem.key.trim() | lowercase}}" class="button is-small hidden"
              (click)="restoreConfigFieldValue(configItem.key.trim(), categoryConfigurationData.key.trim(), configItem.value.value.trim(), configItem.value.type.trim())">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
