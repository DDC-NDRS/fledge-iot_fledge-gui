<div id="add-category-child" class="modal">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p *ngIf="modalType === 'add'" class="modal-card-title is-size-5">Add Parent Child Relationship</p>
      <p *ngIf="modalType === 'delete'" class="modal-card-title is-size-5">Delete Parent Child Relationship</p>
      <button class="delete" aria-label="close" (click)="toggleModal(false, f)"></button>
    </header>
    <section class="modal-card-body">
      <form name="form" (ngSubmit)="f.form.valid && addChild(f)" #f="ngForm" id="addChildForm" novalidate>
        <div class="columns">
          <div class="column">
            <div class="field">
              <label class="label">Parent Category</label>
              <div class="control">
                <div class="select is-fullwidth">
                  <select [(ngModel)]="parentCategory" name="parentCategory" (change)="changeParent($event.target.value)">
                    <option *ngFor="let category of parentCategories" [value]="category.key" [selected]="category.key == parentCategory">{{ category.description }}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="field">
              <label class="label">Child Category</label>
              <div class="control">
                <div *ngIf="childCategories !== undefined && childCategories.length === 0">
                  <p class="is-info">No child category</p>
                </div>
                <div *ngIf="childCategories !== undefined && childCategories.length > 0" class="select is-fullwidth is-multiple">
                  <select multiple [(ngModel)]="selectedChildren" name="childCategory">
                    <option *ngFor="let child of childCategories" [value]="child.key">{{ child.description }}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
      <p *ngIf="invalidForm" class="error-msg"> Please select parent and child categories first.</p>
    </section>
    <footer class="modal-card-foot">
      <button *ngIf="modalType === 'add'" id="save" type="submit" form="addChildForm" class="button is-success">Add</button>
      <button *ngIf="modalType === 'delete'" id="save" (click)="deleteRelationship(f)" class="button is-success">Delete</button>
    </footer>
  </div>
</div>
